<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Interacting with DQCsim: dqcs_plugin_* - DQCsim</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div id="sidebar-scrollbox" class="sidebar-scrollbox">
                <ol class="chapter"><li class="expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction to DQCsim</a></li><li><ol class="section"><li class="expanded "><a href="../intro/components.html"><strong aria-hidden="true">1.1.</strong> The components of a simulation</a></li><li><ol class="section"><li class="expanded "><a href="../intro/frontend.html"><strong aria-hidden="true">1.1.1.</strong> Frontend use cases</a></li><li class="expanded "><a href="../intro/backend.html"><strong aria-hidden="true">1.1.2.</strong> Backend use cases</a></li><li class="expanded "><a href="../intro/operator.html"><strong aria-hidden="true">1.1.3.</strong> Operator use cases</a></li><li class="expanded "><a href="../intro/host.html"><strong aria-hidden="true">1.1.4.</strong> Host use cases</a></li></ol></li><li class="expanded "><a href="../intro/puzzle.html"><strong aria-hidden="true">1.2.</strong> Jigsaw puzzle analogy</a></li><li class="expanded "><a href="../intro/interfaces.html"><strong aria-hidden="true">1.3.</strong> DQCsim's interfaces</a></li><li><ol class="section"><li class="expanded "><a href="../intro/arbs.html"><strong aria-hidden="true">1.3.1.</strong> ArbData and ArbCmds</a></li><li class="expanded "><a href="../intro/gatestream.html"><strong aria-hidden="true">1.3.2.</strong> Gate- and measurement streams</a></li><li class="expanded "><a href="../intro/host-iface.html"><strong aria-hidden="true">1.3.3.</strong> The host interface</a></li><li class="expanded "><a href="../intro/misc-iface.html"><strong aria-hidden="true">1.3.4.</strong> Miscellaneous interfaces</a></li></ol></li><li class="expanded "><a href="../intro/reproducibility.html"><strong aria-hidden="true">1.4.</strong> Reproducibility</a></li></ol></li><li class="expanded "><a href="../install/index.html"><strong aria-hidden="true">2.</strong> Installation</a></li><li><ol class="section"><li class="expanded "><a href="../install/plugins.html"><strong aria-hidden="true">2.1.</strong> Plugin distribution</a></li></ol></li><li class="expanded "><a href="../cli/index.html"><strong aria-hidden="true">3.</strong> The command-line interface</a></li><li class="expanded "><a href="../python-api/index.html"><strong aria-hidden="true">4.</strong> Python API</a></li><li><ol class="section"><li class="expanded "><a href="../python-api/hello-world.html"><strong aria-hidden="true">4.1.</strong> Hello, world!</a></li><li class="expanded "><a href="../python-api/debugging.html"><strong aria-hidden="true">4.2.</strong> Debugging</a></li><li class="expanded "><a href="../python-api/sending-gates.html"><strong aria-hidden="true">4.3.</strong> Sending some gates</a></li><li class="expanded "><a href="../python-api/simulations.html"><strong aria-hidden="true">4.4.</strong> Controlling simulations</a></li><li class="expanded "><a href="../python-api/operator.html"><strong aria-hidden="true">4.5.</strong> Inserting an operator</a></li><li class="expanded "><a href="../python-api/reference.html"><strong aria-hidden="true">4.6.</strong> Reference</a></li></ol></li><li class="expanded "><a href="../c-api/index.html"><strong aria-hidden="true">5.</strong> C API</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/usage.html"><strong aria-hidden="true">5.1.</strong> Usage</a></li><li class="expanded "><a href="../c-api/concepts.apigen.html"><strong aria-hidden="true">5.2.</strong> Concepts</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/handle.apigen.html"><strong aria-hidden="true">5.2.1.</strong> Handles: dqcs_handle_*</a></li><li class="expanded "><a href="../c-api/memory-management.apigen.html"><strong aria-hidden="true">5.2.2.</strong> Memory management</a></li><li class="expanded "><a href="../c-api/error.apigen.html"><strong aria-hidden="true">5.2.3.</strong> Error handling: dqcs_error_*</a></li><li class="expanded "><a href="../c-api/callbacks.apigen.html"><strong aria-hidden="true">5.2.4.</strong> Callbacks</a></li></ol></li><li class="expanded "><a href="../c-api/type-definitions.apigen.html"><strong aria-hidden="true">5.3.</strong> Type definitions: dqcs_*_t</a></li><li class="expanded "><a href="../c-api/arb-cmd-cq.apigen.html"><strong aria-hidden="true">5.4.</strong> ArbData and ArbCmd objects</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/arb.apigen.html"><strong aria-hidden="true">5.4.1.</strong> ArbData objects: dqcs_arb_*</a></li><li class="expanded "><a href="../c-api/cmd.apigen.html"><strong aria-hidden="true">5.4.2.</strong> ArbCmd objects: dqcs_cmd_*</a></li><li class="expanded "><a href="../c-api/cq.apigen.html"><strong aria-hidden="true">5.4.3.</strong> ArbCmd queues: dqcs_cq_*</a></li></ol></li><li class="expanded "><a href="../c-api/qbset.apigen.html"><strong aria-hidden="true">5.5.</strong> Qubits: dqcs_qbset_*</a></li><li class="expanded "><a href="../c-api/gate.apigen.html"><strong aria-hidden="true">5.6.</strong> Gates: dqcs_gate_*</a></li><li class="expanded "><a href="../c-api/measurements.apigen.html"><strong aria-hidden="true">5.7.</strong> Measurements</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/meas.apigen.html"><strong aria-hidden="true">5.7.1.</strong> Singular measurements: dqcs_meas_*</a></li><li class="expanded "><a href="../c-api/mset.apigen.html"><strong aria-hidden="true">5.7.2.</strong> Measurement sets: dqcs_mset_*</a></li></ol></li><li class="expanded "><a href="../c-api/plugins.apigen.html"><strong aria-hidden="true">5.8.</strong> Plugins</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/pdef.apigen.html"><strong aria-hidden="true">5.8.1.</strong> Defining a plugin: dqcs_pdef_*</a></li><li class="expanded "><a href="../c-api/plugin-run.apigen.html"><strong aria-hidden="true">5.8.2.</strong> Running a plugin: dqcs_plugin_*</a></li><li class="expanded "><a href="../c-api/plugin-interact.apigen.html" class="active"><strong aria-hidden="true">5.8.3.</strong> Interacting with DQCsim: dqcs_plugin_*</a></li><li class="expanded "><a href="../c-api/log.apigen.html"><strong aria-hidden="true">5.8.4.</strong> Logging: dqcs_log_*</a></li></ol></li><li class="expanded "><a href="../c-api/simulations.apigen.html"><strong aria-hidden="true">5.9.</strong> Simulations</a></li><li><ol class="section"><li class="expanded "><a href="../c-api/pcfg.apigen.html"><strong aria-hidden="true">5.9.1.</strong> Configuring plugins: dqcs_pcfg_*</a></li><li class="expanded "><a href="../c-api/tcfg.apigen.html"><strong aria-hidden="true">5.9.2.</strong> Running local plugins: dqcs_tcfg_*</a></li><li class="expanded "><a href="../c-api/scfg.apigen.html"><strong aria-hidden="true">5.9.3.</strong> Configuring a simulation: dqcs_scfg_*</a></li><li class="expanded "><a href="../c-api/sim.apigen.html"><strong aria-hidden="true">5.9.4.</strong> Running a simulation: dqcs_sim_*</a></li></ol></li><li class="expanded "><a href="../c-api/reference.apigen.html"><strong aria-hidden="true">5.10.</strong> Reference</a></li></ol></li><li class="expanded "><a href="../cpp-api/index.html"><strong aria-hidden="true">6.</strong> C++ API</a></li><li><ol class="section"><li class="expanded "><a href="../cpp-api/usage.html"><strong aria-hidden="true">6.1.</strong> Usage</a></li><li class="expanded "><a href="../cpp-api/ccompare.html"><strong aria-hidden="true">6.2.</strong> Comparison to the C API</a></li><li class="expanded "><a href="../cpp-api/plugin.html"><strong aria-hidden="true">6.3.</strong> Plugin anatomy</a></li><li class="expanded "><a href="../cpp-api/sim.html"><strong aria-hidden="true">6.4.</strong> Host/simulation anatomy</a></li><li class="expanded "><a href="../cpp-api/reference.html"><strong aria-hidden="true">6.5.</strong> Reference</a></li></ol></li><li class="expanded "><a href="../rust-api/index.html"><strong aria-hidden="true">7.</strong> Rust API</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">DQCsim</h1>

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#interacting-with-dqcsim" id="interacting-with-dqcsim">Interacting with DQCsim</a></h1>
<p>When you start a plugin with <code>dqcs_plugin_run()</code> or <code>dqcs_plugin_start()</code>,
DQCsim will start calling the callbacks you provided. Each of these callbacks
takes a <code>dqcs_plugin_state_t</code> handle, which can be used to interact with
DQCsim and the downstream plugin(s) using the functions listed in this section.</p>
<h2><a class="header" href="#frontend-to-host-communication" id="frontend-to-host-communication">Frontend to host communication</a></h2>
<p>Within a frontend's <code>run</code> callback, the following two functions can be used to
send and receive <code>ArbData</code> messages to and from the host.</p>
<details><summary><font color="green"><tt>dqcs_plugin_send()</tt></font><div style="margin-left: 16px">
<p>Sends a message to the host.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_return_t dqcs_plugin_send(
    dqcs_plugin_state_t plugin,
    dqcs_handle_t arb
)
</code></pre>
<p>It is only legal to call this function from within the <code>run()</code> callback.
Any other source will result in an error.</p>
<p>The <code>cmd</code> handle is consumed by this function if and only if it succeeds.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_recv()</tt></font><div style="margin-left: 16px">
<p>Waits for a message from the host.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_handle_t dqcs_plugin_recv(dqcs_plugin_state_t plugin)
</code></pre>
<p>It is only legal to call this function from within the <code>run()</code> callback.
Any other source will result in an error.</p>
<p>When successful, this function returns a new handle to the received
<code>ArbData</code> object. 0 is used to indicate that an error occurred.</p>
</div></details>
<p>The send function always returns immediately, but the receive function may
block to return control to the host if no messages were in the buffer. That
means that the latter can call into a different callback, such as <code>host_arb</code>.</p>
<h2><a class="header" href="#upstream-to-downstream-communication" id="upstream-to-downstream-communication">Upstream to downstream communication</a></h2>
<p>The following functions can be used by upstream plugins (frontends and
operators) to perform an operation on the downstream plugin. They correspond
one-to-one with the downstream callbacks.</p>
<details><summary><font color="green"><tt>dqcs_plugin_allocate()</tt></font><div style="margin-left: 16px">
<p>Allocate the given number of downstream qubits.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_handle_t dqcs_plugin_allocate(
    dqcs_plugin_state_t plugin,
    uintptr_t num_qubits,
    dqcs_handle_t cq
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p><code>num_qubits</code> specifies the number of qubits that are to be allocated.</p>
<p><code>commands</code> must be 0 or a valid handle to an <code>ArbCmd</code> queue, containing a
list of commands that may be used to modify the behavior of the qubit
register; 0 is equivalent to zero commands. The queue is consumed by this
function, i.e. the handle becomes invalid, if and only if it succeeds.</p>
<p>If the function is successful, a new handle to the set of qubit references
representing the newly allocated register is returned. When the function
fails, 0 is returned.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_free()</tt></font><div style="margin-left: 16px">
<p>Free the given downstream qubits.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_return_t dqcs_plugin_free(
    dqcs_plugin_state_t plugin,
    dqcs_handle_t qbset
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p><code>qubits</code> must be a valid set of qubit references. The set is consumed by
this function, i.e. the handle becomes invalid, if and only if it succeeds.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_gate()</tt></font><div style="margin-left: 16px">
<p>Tells the downstream plugin to execute a gate.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_return_t dqcs_plugin_gate(
    dqcs_plugin_state_t plugin,
    dqcs_handle_t gate
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p><code>gate</code> must be a valid gate object. The object is consumed by this
function, i.e. the handle becomes invalid, if and only if it succeeds.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_advance()</tt></font><div style="margin-left: 16px">
<p>Tells the downstream plugin to run for the specified number of cycles.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_cycle_t dqcs_plugin_advance(
    dqcs_plugin_state_t plugin,
    dqcs_cycle_t cycles
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>The return value is the new cycle counter. This function uses -1 to signal
an error.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_arb()</tt></font><div style="margin-left: 16px">
<p>Sends an arbitrary command downstream.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_handle_t dqcs_plugin_arb(
    dqcs_plugin_state_t plugin,
    dqcs_handle_t cmd
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>This function returns a new handle to an <code>ArbData</code> object representing the
return value of the <code>ArbCmd</code> when successful. Otherwise, it returns 0.</p>
</div></details>
<p>For performance reasons, all of the above functions except <code>dqcs_plugin_arb()</code>
are asynchronous. They send the associated request immediately, but it is down
to OS thread/process scheduling when the request is actually executed. This
means the following:</p>
<ul>
<li>The ordering of log messages sent by differing plugins depends on OS
scheduling.</li>
<li>Errors caused by these asynchronous functions cannot be propagated upstream.
Therefore, any error that <code>does</code> occur is necessarily fatal.</li>
</ul>
<p><code>dqcs_plugin_arb()</code> is exempt from this since it returns a value, so <code>ArbCmd</code>
errors are not necessarily fatal.</p>
<h2><a class="header" href="#querying-the-state-of-the-downstream-plugin" id="querying-the-state-of-the-downstream-plugin">Querying the state of the downstream plugin</a></h2>
<p>Measurement results requested through measurement gates need to be explicitly
fetched when they are needed through the following function. It always returns
the result of the most recent measurement gate for a specific qubit.</p>
<details><summary><font color="green"><tt>dqcs_plugin_get_measurement()</tt></font><div style="margin-left: 16px">
<p>Returns the latest measurement of the given downstream qubit.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_handle_t dqcs_plugin_get_measurement(
    dqcs_plugin_state_t plugin,
    dqcs_qubit_t qubit
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>If the function succeeds, it returns a new handle to a qubit measurement
result object. Otherwise it returns 0.</p>
</div></details>
<p>DQCsim also records some timing information whenever a measurement is
performed. This may be useful for calculating fidelity information within an
algorithm running in the presence of errors.</p>
<details><summary><font color="green"><tt>dqcs_plugin_get_cycles_since_measure()</tt></font><div style="margin-left: 16px">
<p>Returns the number of downstream cycles since the latest measurement of the
given downstream qubit.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_cycle_t dqcs_plugin_get_cycles_since_measure(
    dqcs_plugin_state_t plugin,
    dqcs_qubit_t qubit
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>This function uses -1 to signal an error.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_get_cycles_between_measures()</tt></font><div style="margin-left: 16px">
<p>Returns the number of downstream cycles between the last two measurements
of the given downstream qubit.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_cycle_t dqcs_plugin_get_cycles_between_measures(
    dqcs_plugin_state_t plugin,
    dqcs_qubit_t qubit
)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>This function uses -1 to signal an error.</p>
</div></details>
<p>Finally, a simulation cycle counter is maintained. This is just an accumulation
of all the <code>dqcs_plugin_advance()</code> calls since the start of the simulation.</p>
<details><summary><font color="green"><tt>dqcs_plugin_get_cycle()</tt></font><div style="margin-left: 16px">
<p>Returns the current value of the downstream cycle counter.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_cycle_t dqcs_plugin_get_cycle(dqcs_plugin_state_t plugin)
</code></pre>
<p>Backend plugins are not allowed to call this. Doing so will result in an
error.</p>
<p>This function uses -1 to signal an error.</p>
</div></details>
<h2><a class="header" href="#random-number-generation" id="random-number-generation">Random number generation</a></h2>
<p>To ensure that a DQCsim simulation can be deterministically reproduced, it is
strongly recommended to use the following random number generation functions.</p>
<details><summary><font color="green"><tt>dqcs_plugin_random_f64()</tt></font><div style="margin-left: 16px">
<p>Generates a random floating point number using the simulator random seed.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">double dqcs_plugin_random_f64(dqcs_plugin_state_t plugin)
</code></pre>
<p>The generated numbers are uniformly distributed in the range <code>[0,1&gt;</code>.</p>
<p>This function only fails if the <code>plugin</code> handle is invalid, in which case
it returns 0. Of course, 0 is also a valid (if rare) random return value.</p>
</div></details>
<details><summary><font color="green"><tt>dqcs_plugin_random_u64()</tt></font><div style="margin-left: 16px">
<p>Generates a random unsigned 64-bit number using the simulator random seed.</p>
</div></summary><div style="margin-left: 16px">
<pre><code class="language-C">dqcs_handle_t dqcs_plugin_random_u64(dqcs_plugin_state_t plugin)
</code></pre>
<p>This function only fails if the <code>plugin</code> handle is invalid, in which case
it returns 0. Of course, 0 is also a valid (if rare) random return value.</p>
</div></details>
<p>Particularly, these generators use a separate PRNG stream depending on whether
the callback they are executed from is synchronous to the upstream channel
(<code>modify_measurement</code>) or the downstream channel (all other callbacks). This is
important, because the ordering of upstream callbacks with respect to
downstream callbacks is dependent on OS scheduling.</p>
<p>If you only use downstream callbacks, it's also fine to seed your own PRNG
using the first number returned by <code>dqcs_plugin_random_u64()</code> in the <code>init</code>
callback. However, using a randomly seeded PRNG is strongly discouraged, since
it prevents a user from using a fixed random seed for reproduction.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../c-api/plugin-run.apigen.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../c-api/log.apigen.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../c-api/plugin-run.apigen.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../c-api/log.apigen.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
