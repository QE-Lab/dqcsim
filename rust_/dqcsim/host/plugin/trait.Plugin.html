<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `Plugin` trait in crate `dqcsim`."><meta name="keywords" content="rust, rustlang, rust-lang, Plugin"><title>dqcsim::host::plugin::Plugin - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../light.css" id="themeStyle"><script src="../../../storage.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="shortcut icon" href="../../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../../dqcsim/index.html'><div class='logo-container'><img src='../../../rust-logo.png' alt='logo'></div></a><p class='location'>Trait Plugin</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.init_cmds">init_cmds</a><a href="#tymethod.log_configuration">log_configuration</a><a href="#tymethod.plugin_type">plugin_type</a><a href="#tymethod.rpc">rpc</a><a href="#tymethod.spawn">spawn</a></div><a class="sidebar-title" href="#implementations">Methods</a><div class="sidebar-links"><a href="#method.accept_upstream">accept_upstream</a><a href="#method.arb">arb</a><a href="#method.initialize">initialize</a><a href="#method.name">name</a><a href="#method.user_initialize">user_initialize</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../../index.html'>dqcsim</a>::<wbr><a href='../index.html'>host</a>::<wbr><a href='index.html'>plugin</a></p><script>window.sidebarCurrent = {name: 'Plugin', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../../settings.html"><img src="../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#42-65' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../../index.html'>dqcsim</a>::<wbr><a href='../index.html'>host</a>::<wbr><a href='index.html'>plugin</a>::<wbr><a class="trait" href=''>Plugin</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait Plugin: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> {
    fn <a href='#tymethod.spawn' class='fnname'>spawn</a>(&amp;mut self, logger: &amp;<a class="struct" href="../../../dqcsim/common/log/thread/struct.LogThread.html" title="struct dqcsim::common::log::thread::LogThread">LogThread</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;;
<div class='item-spacer'></div>    fn <a href='#tymethod.plugin_type' class='fnname'>plugin_type</a>(&amp;self) -&gt; <a class="enum" href="../../../dqcsim/common/types/enum.PluginType.html" title="enum dqcsim::common::types::PluginType">PluginType</a>;
<div class='item-spacer'></div>    fn <a href='#tymethod.init_cmds' class='fnname'>init_cmds</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbCmd.html" title="struct dqcsim::common::types::ArbCmd">ArbCmd</a>&gt;;
<div class='item-spacer'></div>    fn <a href='#tymethod.log_configuration' class='fnname'>log_configuration</a>(&amp;self) -&gt; <a class="struct" href="../../../dqcsim/host/configuration/struct.PluginLogConfiguration.html" title="struct dqcsim::host::configuration::PluginLogConfiguration">PluginLogConfiguration</a>;
<div class='item-spacer'></div>    fn <a href='#tymethod.rpc' class='fnname'>rpc</a>(&amp;mut self, msg: <a class="enum" href="../../../dqcsim/common/protocol/enum.SimulatorToPlugin.html" title="enum dqcsim::common::protocol::SimulatorToPlugin">SimulatorToPlugin</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="enum" href="../../../dqcsim/common/protocol/enum.PluginToSimulator.html" title="enum dqcsim::common::protocol::PluginToSimulator">PluginToSimulator</a>&gt;;
}</pre></div><div class='docblock'><p>The Plugin trait, implemented by all Plugins used in a Simulation.</p>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.spawn' class='method'><code>fn <a href='#tymethod.spawn' class='fnname'>spawn</a>(&amp;mut self, logger: &amp;<a class="struct" href="../../../dqcsim/common/log/thread/struct.LogThread.html" title="struct dqcsim::common::log::thread::LogThread">LogThread</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code></h3><div class='docblock'><p>Spawn the Plugin. The Plugin should spawn the actual plugin code and
prepare the communication channel. After spawning the [<code>rpc</code>] method
should be available. The simulator will continue to send initialization
requests via the commmunication channel.</p>
<p>The logger is provided by the simulator, and plugins can use the
reference to the log thread to make the neccesary copies of log senders
to use with their log proxies.</p>
</div><h3 id='tymethod.plugin_type' class='method'><code>fn <a href='#tymethod.plugin_type' class='fnname'>plugin_type</a>(&amp;self) -&gt; <a class="enum" href="../../../dqcsim/common/types/enum.PluginType.html" title="enum dqcsim::common::types::PluginType">PluginType</a></code></h3><div class='docblock'><p>Returns the PluginType of this plugin.</p>
</div><h3 id='tymethod.init_cmds' class='method'><code>fn <a href='#tymethod.init_cmds' class='fnname'>init_cmds</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbCmd.html" title="struct dqcsim::common::types::ArbCmd">ArbCmd</a>&gt;</code></h3><div class='docblock'><p>Returns the vector of <code>ArbCmd</code>s that are to be passed to the plugin's
<code>initialize()</code> callback.</p>
</div><h3 id='tymethod.log_configuration' class='method'><code>fn <a href='#tymethod.log_configuration' class='fnname'>log_configuration</a>(&amp;self) -&gt; <a class="struct" href="../../../dqcsim/host/configuration/struct.PluginLogConfiguration.html" title="struct dqcsim::host::configuration::PluginLogConfiguration">PluginLogConfiguration</a></code></h3><div class='docblock'><p>Returns the logging configuration for this plugin.</p>
</div><h3 id='tymethod.rpc' class='method'><code>fn <a href='#tymethod.rpc' class='fnname'>rpc</a>(&amp;mut self, msg: <a class="enum" href="../../../dqcsim/common/protocol/enum.SimulatorToPlugin.html" title="enum dqcsim::common::protocol::SimulatorToPlugin">SimulatorToPlugin</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="enum" href="../../../dqcsim/common/protocol/enum.PluginToSimulator.html" title="enum dqcsim::common::protocol::PluginToSimulator">PluginToSimulator</a>&gt;</code></h3><div class='docblock'><p>Send the SimulatorToPlugin message to the plugin.</p>
</div></div><span class='loading-content'>Loading content...</span><h2 id='implementations' class='small-section-header'>Implementations<a href='#implementations' class='anchor'></a></h2><h3 id='impl' class='impl'><code class='in-band'>impl dyn <a class="trait" href="../../../dqcsim/host/plugin/trait.Plugin.html" title="trait dqcsim::host::plugin::Plugin">Plugin</a></code><a href='#impl' class='anchor'></a><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#67-118' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.name' class="method"><code>pub fn <a href='#method.name' class='fnname'>name</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a></code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#69-71' title='goto source code'>[src]</a></h4><div class='docblock'><p>Returns the name of this plugin from its logging configuration.</p>
</div><h4 id='method.initialize' class="method"><code>pub fn <a href='#method.initialize' class='fnname'>initialize</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;logger: &amp;<a class="struct" href="../../../dqcsim/common/log/thread/struct.LogThread.html" title="struct dqcsim::common::log::thread::LogThread">LogThread</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;downstream: &amp;<a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;seed: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a><br>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="struct" href="../../../dqcsim/common/protocol/struct.PluginInitializeResponse.html" title="struct dqcsim::common::protocol::PluginInitializeResponse">PluginInitializeResponse</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#74-91' title='goto source code'>[src]</a></h4><div class='docblock'><p>Sends an <code>PluginInitializeRequest</code> to this plugin.</p>
</div><h4 id='method.accept_upstream' class="method"><code>pub fn <a href='#method.accept_upstream' class='fnname'>accept_upstream</a>(&amp;mut self) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#95-97' title='goto source code'>[src]</a></h4><div class='docblock'><p>Requests that the plugin waits for the upstream plugin to connect and
establishes the connection.</p>
</div><h4 id='method.user_initialize' class="method"><code>pub fn <a href='#method.user_initialize' class='fnname'>user_initialize</a>(&amp;mut self) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#101-108' title='goto source code'>[src]</a></h4><div class='docblock'><p>Send user initialize request to the plugin. This invokes the initialize
callback with the user initialize commands.</p>
</div><h4 id='method.arb' class="method"><code>pub fn <a href='#method.arb' class='fnname'>arb</a>(&amp;mut self, cmd: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbCmd.html" title="struct dqcsim::common::types::ArbCmd">ArbCmd</a>&gt;) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbData.html" title="struct dqcsim::common::types::ArbData">ArbData</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/mod.rs.html#111-117' title='goto source code'>[src]</a></h4><div class='docblock'><p>Sends an <code>ArbCmd</code> message to this plugin.</p>
</div></div>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-Plugin' class='impl'><code class='in-band'>impl Plugin for <a class="struct" href="../../../dqcsim/host/plugin/process/struct.PluginProcess.html" title="struct dqcsim::host::plugin::process::PluginProcess">PluginProcess</a></code><a href='#impl-Plugin' class='anchor'></a><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#56-193' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.spawn' class="method"><code>fn <a href='#method.spawn' class='fnname'>spawn</a>(&amp;mut self, logger: &amp;<a class="struct" href="../../../dqcsim/common/log/thread/struct.LogThread.html" title="struct dqcsim::common::log::thread::LogThread">LogThread</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#61-175' title='goto source code'>[src]</a></h4><div class='docblock'><p>Spawn the child process based on the plugin configuration.
The simulator address is passed as the first argument to the child
process, or as the 2nd argument to the interpreter when the
configuration specifies a script.</p>
</div><h4 id='method.plugin_type' class="method hidden"><code>fn <a href='#method.plugin_type' class='fnname'>plugin_type</a>(&amp;self) -&gt; <a class="enum" href="../../../dqcsim/common/types/enum.PluginType.html" title="enum dqcsim::common::types::PluginType">PluginType</a></code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#177-179' title='goto source code'>[src]</a></h4><h4 id='method.init_cmds' class="method hidden"><code>fn <a href='#method.init_cmds' class='fnname'>init_cmds</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbCmd.html" title="struct dqcsim::common::types::ArbCmd">ArbCmd</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#181-183' title='goto source code'>[src]</a></h4><h4 id='method.log_configuration' class="method hidden"><code>fn <a href='#method.log_configuration' class='fnname'>log_configuration</a>(&amp;self) -&gt; <a class="struct" href="../../../dqcsim/host/configuration/struct.PluginLogConfiguration.html" title="struct dqcsim::host::configuration::PluginLogConfiguration">PluginLogConfiguration</a></code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#185-187' title='goto source code'>[src]</a></h4><h4 id='method.rpc' class="method hidden"><code>fn <a href='#method.rpc' class='fnname'>rpc</a>(&amp;mut self, msg: <a class="enum" href="../../../dqcsim/common/protocol/enum.SimulatorToPlugin.html" title="enum dqcsim::common::protocol::SimulatorToPlugin">SimulatorToPlugin</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="enum" href="../../../dqcsim/common/protocol/enum.PluginToSimulator.html" title="enum dqcsim::common::protocol::PluginToSimulator">PluginToSimulator</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/process.rs.html#189-192' title='goto source code'>[src]</a></h4></div><h3 id='impl-Plugin-1' class='impl'><code class='in-band'>impl Plugin for <a class="struct" href="../../../dqcsim/host/plugin/thread/struct.PluginThread.html" title="struct dqcsim::host::plugin::thread::PluginThread">PluginThread</a></code><a href='#impl-Plugin-1' class='anchor'></a><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#57-104' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.spawn-1' class="method hidden"><code>fn <a href='#method.spawn-1' class='fnname'>spawn</a>(&amp;mut self, _: &amp;<a class="struct" href="../../../dqcsim/common/log/thread/struct.LogThread.html" title="struct dqcsim::common::log::thread::LogThread">LogThread</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#58-86' title='goto source code'>[src]</a></h4><h4 id='method.rpc-1' class="method hidden"><code>fn <a href='#method.rpc-1' class='fnname'>rpc</a>(&amp;mut self, msg: <a class="enum" href="../../../dqcsim/common/protocol/enum.SimulatorToPlugin.html" title="enum dqcsim::common::protocol::SimulatorToPlugin">SimulatorToPlugin</a>) -&gt; <a class="type" href="../../../dqcsim/common/error/type.Result.html" title="type dqcsim::common::error::Result">Result</a>&lt;<a class="enum" href="../../../dqcsim/common/protocol/enum.PluginToSimulator.html" title="enum dqcsim::common::protocol::PluginToSimulator">PluginToSimulator</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#88-91' title='goto source code'>[src]</a></h4><h4 id='method.plugin_type-1' class="method hidden"><code>fn <a href='#method.plugin_type-1' class='fnname'>plugin_type</a>(&amp;self) -&gt; <a class="enum" href="../../../dqcsim/common/types/enum.PluginType.html" title="enum dqcsim::common::types::PluginType">PluginType</a></code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#93-95' title='goto source code'>[src]</a></h4><h4 id='method.init_cmds-1' class="method hidden"><code>fn <a href='#method.init_cmds-1' class='fnname'>init_cmds</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../../../dqcsim/common/types/struct.ArbCmd.html" title="struct dqcsim::common::types::ArbCmd">ArbCmd</a>&gt;</code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#97-99' title='goto source code'>[src]</a></h4><h4 id='method.log_configuration-1' class="method hidden"><code>fn <a href='#method.log_configuration-1' class='fnname'>log_configuration</a>(&amp;self) -&gt; <a class="struct" href="../../../dqcsim/host/configuration/struct.PluginLogConfiguration.html" title="struct dqcsim::host::configuration::PluginLogConfiguration">PluginLogConfiguration</a></code><a class='srclink' href='../../../src/dqcsim/core/host/plugin/thread.rs.html#101-103' title='goto source code'>[src]</a></h4></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../../implementors/dqcsim/host/plugin/trait.Plugin.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../../";window.currentCrate = "dqcsim";</script><script src="../../../main.js"></script><script defer src="../../../search-index.js"></script></body></html>